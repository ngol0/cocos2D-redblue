{"version":3,"sources":["file:///Users/lamngo/Desktop/Git/cocos2D-redblue/assets/Script/Enemy.ts"],"names":["_decorator","Contact2DType","Collider2D","PoolObjects","ccclass","property","Enemy","start","collider","getComponent","on","BEGIN_CONTACT","onBeginContact","selfCollider","otherCollider","contact","node","name","tag","_isHit","update","deltaTime","Moving","BackToPool"],"mappings":";;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAA6CC,MAAAA,a,OAAAA,a;AAAeC,MAAAA,U,OAAAA,U;;AAC5DC,MAAAA,W,iBAAAA,W;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;uBAIjBM,K,WADZF,OAAO,CAAC,OAAD,C,gBAAR,MACaE,KADb;AAAA;AAAA,sCACuC;AAEnCC,QAAAA,KAAK,GAAI;AACL;AACA,cAAIC,QAAQ,GAAG,KAAKC,YAAL,CAAkBP,UAAlB,CAAf;;AACA,cAAIM,QAAJ,EAAc;AACVA,YAAAA,QAAQ,CAACE,EAAT,CAAYT,aAAa,CAACU,aAA1B,EAAyC,KAAKC,cAA9C,EAA8D,IAA9D;AACH;AACJ,SARkC,CAUnC;;;AACAA,QAAAA,cAAc,CAACC,YAAD,EAA2BC,aAA3B,EAAsDC,OAAtD,EACd;AACI,cAAID,aAAa,CAACE,IAAd,CAAmBC,IAAnB,IAA2B,QAA3B,IAAuCH,aAAa,CAACE,IAAd,CAAmBC,IAAnB,IAA2B,MAAlE,IAA4EH,aAAa,CAACE,IAAd,CAAmBC,IAAnB,IAA2B,YAAvG,IAAuHH,aAAa,CAACI,GAAd,IAAqB,CAAhJ,EACA;AACI;AACA,iBAAKC,MAAL,GAAc,IAAd;AACH;AACJ;;AAEDC,QAAAA,MAAM,CAAEC,SAAF,EAAqB;AAEvB,eAAKC,MAAL,CAAYD,SAAZ;AAEA,cAAI,KAAKF,MAAT,EACI;AACA,iBAAKI,UAAL;AACP;;AA3BkC,O","sourcesContent":["\nimport { _decorator, Component, Node, Vec3, NodePool, Contact2DType, Collider2D, IPhysics2DContact, director } from 'cc';\nimport { PoolObjects } from './PoolObjects';\nconst { ccclass, property } = _decorator;\n\n \n@ccclass('Enemy')\nexport class Enemy extends PoolObjects {\n\n    start () {\n        //collider\n        let collider = this.getComponent(Collider2D);\n        if (collider) {\n            collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\n        }\n    }\n\n    //when enemy collides with bullets or bomb\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null) \n    {\n        if (otherCollider.node.name == \"Bullet\" || otherCollider.node.name == \"Bomb\" || otherCollider.node.name == \"OutOfBound\" || otherCollider.tag == 5)\n        {\n            //kill enemy\n            this._isHit = true;\n        }\n    }\n\n    update (deltaTime: number) {\n\n        this.Moving(deltaTime);\n\n        if (this._isHit)\n            //if enemy node is out of bound/hit by bullet/hit by bomb - return to pool and set the position back to 0,0,0\n            this.BackToPool();\n    }\n}\n\n"]}