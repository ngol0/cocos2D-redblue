{"version":3,"sources":["file:///Users/lamngo/Desktop/ATHENA/red-and-blue/assets/Script/SpawnController.ts"],"names":["_decorator","Component","ccclass","property","SpawnController","onLoad","_arrayOfEnemySprites","_arrayOfTimeBetweenSpawn","SetSpawningElements","_timeBetweenSpawn","Math","floor","random","length","_enemySpritesToChoose","start","update","deltaTime","_curEnemySpawnTime","_curIconSpawnTime"],"mappings":";;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;;;;;;OAEf;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;iCAGjBI,e,WADZF,OAAO,CAAC,iBAAD,C,yBAAR,MACaE,eADb,SACqCH,SADrC,CAC+C;AAAA;AAAA;;AAAA,sDAIN,CAJM;;AAAA,4DAKE,EALF;;AAAA,wDAMF,EANE;;AAAA;;AAAA,qDAUP,CAVO;;AAAA;AAAA;;AAc3C;AAEI;AACJ;AAGAI,QAAAA,MAAM,GAAG;AAEL;AACA,eAAKC,oBAAL,GAA4B,CAAC,CAAD,EAAI,CAAJ,CAA5B;AACA,eAAKC,wBAAL,GAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAhC;AAEH,SA1B0C,CA4B3C;;;AAEQC,QAAAA,mBAAmB,GAAG;AAC1B;AACA,eAAKC,iBAAL,GAAyB,KAAKF,wBAAL,CAA8BG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAAKL,wBAAL,CAA8BM,MAAzD,CAA9B,CAAzB,CAF0B,CAI1B;;AACA,eAAKC,qBAAL,GAA6B,KAAKR,oBAAL,CAA0BI,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAAKN,oBAAL,CAA0BO,MAArD,CAA1B,CAA7B;AACH;;AAEDE,QAAAA,KAAK,GAAI;AAEL,eAAKP,mBAAL;AAEH;;AAEDQ,QAAAA,MAAM,CAAEC,SAAF,EAAqB;AAEvB;AACA;AACA;AACI,cAAI,KAAKR,iBAAL,IAA0B,CAA9B,EACA;AACI,iBAAKS,kBAAL,IAA2BD,SAA3B;;AAEA,gBAAI,KAAKC,kBAAL,IAA2B,KAAKT,iBAApC,EACA;AACI,kBAAI,KAAKK,qBAAL,IAA8B,CAAlC,EACA,CACI;AACH,eAHD,MAIK,IAAI,KAAKA,qBAAL,IAA8B,CAAlC,EACL,CACI;AACH;;AAED,mBAAKI,kBAAL,GAA0B,CAA1B;AACA,mBAAKV,mBAAL;AACH;AACJ,WAlBD,MAoBA;AACI,iBAAKW,iBAAL,IAA2BF,SAA3B;;AAEA,gBAAI,KAAKE,iBAAL,IAA0B,KAAKV,iBAAnC,EACA;AACI;AAEA,mBAAKU,iBAAL,GAAyB,CAAzB;AACA,mBAAKX,mBAAL;AACH;AACJ,WAnCkB,CAqCvB;;AAEH;;AAnF0C,O","sourcesContent":["\nimport { _decorator, Component, Node, Prefab, instantiate, Vec3, find } from 'cc';\nimport { PoolManager } from './PoolManager';\nconst { ccclass, property } = _decorator;\n \n@ccclass('SpawnController')\nexport class SpawnController extends Component {\n\n    //----FOR ENEMIES----//\n    // private _spritesToChoose;\n    private _curEnemySpawnTime: number = 0; \n    private _arrayOfTimeBetweenSpawn: number[] = []; \n    private _arrayOfEnemySprites: number[] = [];\n    private _enemySpritesToChoose;\n\n    //----FOR ICONS----//\n    private _curIconSpawnTime: number = 0;\n\n    private _timeBetweenSpawn: number;\n\n    //private arrayOfPositionToSpawn: number[] = [];\n\n        //----FOR BOSS----//   \n    //private boss: BossSpawner;\n    \n\n    onLoad() {\n\n        //this.arrayOfPositionToSpawn = [-350, -250, -150, -50, 50, 150, 250, 350];\n        this._arrayOfEnemySprites = [1, 2];\n        this._arrayOfTimeBetweenSpawn = [1, 2, 3, 4, 5, 6, 8];\n\n    }\n\n    //protected abstract SetSpawningElements();\n\n    private SetSpawningElements() {\n        //time\n        this._timeBetweenSpawn = this._arrayOfTimeBetweenSpawn[Math.floor(Math.random() * this._arrayOfTimeBetweenSpawn.length)];\n\n        //sprites\n        this._enemySpritesToChoose = this._arrayOfEnemySprites[Math.floor(Math.random() * this._arrayOfEnemySprites.length)];\n    }\n\n    start () {\n\n        this.SetSpawningElements();\n\n    }\n\n    update (deltaTime: number) {\n\n        //spawn obstacles - first come first serve\n        //if (this.boss.spawnEnem)\n        //{\n            if (this._timeBetweenSpawn != 8)\n            {\n                this._curEnemySpawnTime += deltaTime;\n    \n                if (this._curEnemySpawnTime >= this._timeBetweenSpawn)\n                {\n                    if (this._enemySpritesToChoose == 1)\n                    {\n                        //PoolManager.Instance.CreateEnemy(this.node);\n                    }\n                    else if (this._enemySpritesToChoose == 2)\n                    {\n                        //PoolManager.Instance.CreatePlayer(this.node);\n                    }\n    \n                    this._curEnemySpawnTime = 0;\n                    this.SetSpawningElements();             \n                }\n            }\n            else\n            {\n                this._curIconSpawnTime  += deltaTime;\n\n                if (this._curIconSpawnTime >= this._timeBetweenSpawn)\n                {\n                    //PoolManager.Instance.CreateIcons(this.node);\n    \n                    this._curIconSpawnTime = 0;\n                    this.SetSpawningElements(); \n                }\n            }\n           \n        //}\n        \n    }\n}\n"]}