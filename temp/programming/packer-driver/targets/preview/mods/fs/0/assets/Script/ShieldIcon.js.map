{"version":3,"sources":["file:///Users/lamngo/Desktop/Cocos/RedandBlue_edited/assets/Script/ShieldIcon.ts"],"names":["_decorator","Component","Node","Collider2D","Contact2DType","IconSpawn","ShieldAct","ccclass","property","ShieldIcon","type","start","collider","getComponent","on","BEGIN_CONTACT","onBeginContact","selfCollider","otherCollider","contact","node","name","shield","SetActiveShield","Respawn"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,a,OAAAA,a;;AACzCC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;4BAGjBS,U,WADZF,OAAO,CAAC,YAAD,C,UAGHC,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAER;AAAP,OAAD,C,oCAHb,MACaO,UADb,SACgCR,SADhC,CAC0C;AAAA;AAAA;;AAAA;AAAA;;AAKtCU,QAAAA,KAAK,GAAI;AACL;AACA,cAAIC,QAAQ,GAAG,KAAKC,YAAL,CAAkBV,UAAlB,CAAf;;AACA,cAAIS,QAAJ,EAAc;AACVA,YAAAA,QAAQ,CAACE,EAAT,CAAYV,aAAa,CAACW,aAA1B,EAAyC,KAAKC,cAA9C,EAA8D,IAA9D;AACH;AACJ;;AAEDA,QAAAA,cAAc,CAACC,YAAD,EAA2BC,aAA3B,EAAsDC,OAAtD,EACd;AACI,cAAID,aAAa,CAACE,IAAd,CAAmBC,IAAnB,IAA2B,QAA/B,EACA;AACI;AACA,iBAAKC,MAAL,CAAYT,YAAZ;AAAA;AAAA,wCAAoCU,eAApC;AACA,iBAAKH,IAAL,CAAUP,YAAV;AAAA;AAAA,wCAAkCW,OAAlC;AACH,WALD,MAOA;AACI,iBAAKJ,IAAL,CAAUP,YAAV;AAAA;AAAA,wCAAkCW,OAAlC;AACH;AACJ;;AAzBqC,O;;;;;iBAGX,I","sourcesContent":["\nimport { _decorator, Component, Node, Collider2D, Contact2DType, IPhysics2DContact, Vec3, instantiate, Prefab, v3 } from 'cc';\nimport { IconSpawn } from './IconSpawn';\nimport { ShieldAct } from './ShieldAct';\nconst { ccclass, property } = _decorator;\n \n@ccclass('ShieldIcon')\nexport class ShieldIcon extends Component {\n\n    @property({type: Node})\n    public shield: Node|null = null;\n\n    start () {\n        //collider\n        let collider = this.getComponent(Collider2D);\n        if (collider) {\n            collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\n        }\n    }\n\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null) \n    {\n        if (otherCollider.node.name == \"Player\")\n        {\n            //spawn shield\n            this.shield.getComponent(ShieldAct).SetActiveShield();\n            this.node.getComponent(IconSpawn).Respawn();\n        }\n        else\n        {\n            this.node.getComponent(IconSpawn).Respawn();\n        }\n    }\n}\n\n"]}