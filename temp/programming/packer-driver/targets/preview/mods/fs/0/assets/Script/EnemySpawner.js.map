{"version":3,"sources":["file:///Users/lamngo/Desktop/Cocos/RedandBlue_edited/assets/Script/EnemySpawner.ts"],"names":["_decorator","Component","PoolManager","ccclass","property","SpawnController","onLoad","_arrayOfSprites","_arrayOfTimeBetweenSpawn","SetSpawningElements","_timeBetweenEnemySpawn","Math","floor","random","length","_spritesToChoose","start","update","deltaTime","_curEnemySpawnTime","Instance","CreateRedEnemy","node","CreateStoneEnemy","CreatePlayer"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,W,iBAAAA,W;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;iCAGjBK,e,WADZF,OAAO,CAAC,iBAAD,C,yBAAR,MACaE,eADb,SACqCJ,SADrC,CAC+C;AAAA;AAAA;;AAAA,sDAKN,CALM;;AAAA,qDAOP,CAPO;;AAAA,4DAUE,EAVF;;AAAA,mDAWP,EAXO;;AAAA;;AAAA;AAAA;;AAiBvC;AACJ;AAGAK,QAAAA,MAAM,GAAG;AAEL;AACA,eAAKC,eAAL,GAAuB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAvB;AACA,eAAKC,wBAAL,GAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAAhC;AAEH,SA3B0C,CA6B3C;;;AAEQC,QAAAA,mBAAmB,GAAG;AAC1B;AACA,eAAKC,sBAAL,GAA8B,KAAKF,wBAAL,CAA8BG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAAKL,wBAAL,CAA8BM,MAAzD,CAA9B,CAA9B,CAF0B,CAI1B;;AACA,eAAKC,gBAAL,GAAwB,KAAKR,eAAL,CAAqBI,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAAKN,eAAL,CAAqBO,MAAhD,CAArB,CAAxB;AACH;;AAEDE,QAAAA,KAAK,GAAI;AAEL,eAAKP,mBAAL;AAEH;;AAEDQ,QAAAA,MAAM,CAAEC,SAAF,EAAqB;AAEvB;AACA;AACA;AACI,cAAI,KAAKR,sBAAL,IAA+B,CAAnC,EACA;AACI,iBAAKS,kBAAL,IAA2BD,SAA3B;;AAEA,gBAAI,KAAKC,kBAAL,IAA2B,KAAKT,sBAApC,EACA;AACI,kBAAI,KAAKK,gBAAL,IAAyB,CAA7B,EACA;AACI;AAAA;AAAA,gDAAYK,QAAZ,CAAqBC,cAArB,CAAoC,KAAKC,IAAzC;AACH,eAHD,MAIK,IAAI,KAAKP,gBAAL,IAAyB,CAA7B,EACL;AACI;AAAA;AAAA,gDAAYK,QAAZ,CAAqBG,gBAArB,CAAsC,KAAKD,IAA3C;AACH,eAHI,MAIA,IAAI,KAAKP,gBAAL,IAAyB,CAA7B,EACL;AACI;AAAA;AAAA,gDAAYK,QAAZ,CAAqBI,YAArB,CAAkC,KAAKF,IAAvC;AACH;;AAED,mBAAKH,kBAAL,GAA0B,CAA1B;AACA,mBAAKV,mBAAL;AACH;AACJ,WA3BkB,CA6BvB;;AAEH;;AA5E0C,O","sourcesContent":["\nimport { _decorator, Component, Node, Prefab, instantiate, Vec3, find } from 'cc';\nimport { PoolManager } from './PoolManager';\nconst { ccclass, property } = _decorator;\n \n@ccclass('SpawnController')\nexport class SpawnController extends Component {\n\n    //----FOR ENEMIES----//\n    // private _spritesToChoose;\n\n    private _curEnemySpawnTime: number = 0; \n\n    private _curIconSpawnTime: number = 0;\n\n    //private arrayOfPositionToSpawn: number[] = [];\n    private _arrayOfTimeBetweenSpawn: number[] = []; \n    private _arrayOfSprites: number[] = [];\n\n    private _timeBetweenEnemySpawn: number;\n\n    private _spritesToChoose;\n\n        //----FOR BOSS----//   \n    //private boss: BossSpawner;\n    \n\n    onLoad() {\n\n        //this.arrayOfPositionToSpawn = [-350, -250, -150, -50, 50, 150, 250, 350];\n        this._arrayOfSprites = [1, 2, 3, 4, 5, 6, 7];\n        this._arrayOfTimeBetweenSpawn = [1, 2, 3, 4, 5]; \n\n    }\n\n    //protected abstract SetSpawningElements();\n\n    private SetSpawningElements() {\n        //time\n        this._timeBetweenEnemySpawn = this._arrayOfTimeBetweenSpawn[Math.floor(Math.random() * this._arrayOfTimeBetweenSpawn.length)];\n\n        //sprites\n        this._spritesToChoose = this._arrayOfSprites[Math.floor(Math.random() * this._arrayOfSprites.length)];\n    }\n\n    start () {\n\n        this.SetSpawningElements();\n\n    }\n\n    update (deltaTime: number) {\n\n        //spawn obstacles - first come first serve\n        //if (this.boss.spawnEnem)\n        //{\n            if (this._timeBetweenEnemySpawn != 6)\n            {\n                this._curEnemySpawnTime += deltaTime;\n    \n                if (this._curEnemySpawnTime >= this._timeBetweenEnemySpawn)\n                {\n                    if (this._spritesToChoose == 1)\n                    {\n                        PoolManager.Instance.CreateRedEnemy(this.node);\n                    }\n                    else if (this._spritesToChoose == 2)\n                    {\n                        PoolManager.Instance.CreateStoneEnemy(this.node);\n                    }\n                    else if (this._spritesToChoose == 3)\n                    {\n                        PoolManager.Instance.CreatePlayer(this.node);\n                    }\n    \n                    this._curEnemySpawnTime = 0;\n                    this.SetSpawningElements();             \n                }\n            }\n           \n        //}\n        \n    }\n}\n"]}